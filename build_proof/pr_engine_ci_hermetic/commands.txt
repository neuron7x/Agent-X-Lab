git switch -c pr/engine-ci-hermetic
git restore --staged --worktree .
git clean -fd
mkdir -p build_proof/pr_engine_ci_hermetic/outputs
python tools/verify_action_pinning.py --workflows .github/workflows > build_proof/pr_engine_ci_hermetic/outputs/01_action_pinning_before.txt 2>&1
python -m compileall -q engine > build_proof/pr_engine_ci_hermetic/outputs/10_compile_engine.txt 2>&1
python -m pytest -q engine/tests > build_proof/pr_engine_ci_hermetic/outputs/11_pytest_engine.txt 2>&1
python tools/verify_action_pinning.py --workflows .github/workflows > /tmp/20_action_pinning_after.txt 2>&1
python -m compileall -q engine > /tmp/10_compile_engine.txt 2>&1
python -m pytest -q engine/tests > /tmp/11_pytest_engine.txt 2>&1
git status --porcelain > /tmp/12_git_status_after_gates.txt 2>&1
git diff --name-only > /tmp/13_git_diff_names_after_gates.txt 2>&1
cp /tmp/20_action_pinning_after.txt build_proof/pr_engine_ci_hermetic/outputs/20_action_pinning_after.txt
cp /tmp/10_compile_engine.txt build_proof/pr_engine_ci_hermetic/outputs/10_compile_engine.txt
cp /tmp/11_pytest_engine.txt build_proof/pr_engine_ci_hermetic/outputs/11_pytest_engine.txt
cp /tmp/12_git_status_after_gates.txt build_proof/pr_engine_ci_hermetic/outputs/12_git_status_after_gates.txt
cp /tmp/13_git_diff_names_after_gates.txt build_proof/pr_engine_ci_hermetic/outputs/13_git_diff_names_after_gates.txt
