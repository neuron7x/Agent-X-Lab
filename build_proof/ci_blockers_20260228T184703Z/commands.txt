bash -lc {
  echo "uname -a:"; uname -a;
  echo "python --version:"; python --version 2>&1 || true;
  echo "python -m pip --version:"; python -m pip --version 2>&1 || true;
  echo "git rev-parse HEAD:"; git rev-parse HEAD 2>/dev/null || echo SNAPSHOT_MODE;
  echo "git status --porcelain:"; git status --porcelain 2>/dev/null || true;
} > "build_proof/ci_blockers_20260228T184703Z/outputs/env.txt"
bash -lc for f in .github/workflows/*.yml; do nl -ba "$f" > "build_proof/ci_blockers_20260228T184703Z/outputs/$(basename "$f").nl.txt"; done
bash -lc grep -RIn --line-number -E '>>\s*"\$GITHUB_ENV"|>>\s*"\$GITHUB_OUTPUT"' .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/redirect_hits.txt" || true
bash -lc grep -RIn --line-number -E '\$\{\{\s*runner\.' .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/runner_context_hits.txt" || true
bash -lc find .github/actions -maxdepth 3 -name action.yml -print > "build_proof/ci_blockers_20260228T184703Z/outputs/local_actions.txt"
bash -lc python tools/verify_action_pinning.py --workflows .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/verify_action_pinning.txt" 2>&1
bash -lc python engine/tools/verify_workflow_hygiene.py --workflows .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/verify_workflow_hygiene.txt" 2>&1
bash -lc cat > "build_proof/ci_blockers_20260228T184703Z/outputs/blockers.json" <<'JSON'
{
  "blockers": []
}
JSON
bash -lc python tools/verify_action_pinning.py --workflows .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/verify_action_pinning_after.txt" 2>&1
bash -lc python engine/tools/verify_workflow_hygiene.py --workflows .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/verify_workflow_hygiene_after.txt" 2>&1
bash -lc grep -RIn --line-number -E '>>\s*"\$GITHUB_ENV"|>>\s*"\$GITHUB_OUTPUT"' .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/redirect_hits_after.txt" || true
bash -lc grep -RIn --line-number -E '\$\{\{\s*runner\.' .github/workflows > "build_proof/ci_blockers_20260228T184703Z/outputs/runner_context_hits_after.txt" || true
bash -lc git diff > "build_proof/ci_blockers_20260228T184703Z/patches/final.patch"
bash -lc 
  cd "build_proof/ci_blockers_20260228T184703Z";
  find . -type f ! -name sha256sum.txt -print0 \
    | sort -z \
    | xargs -0 sha256sum > sha256sum.txt

bash -lc EVIDENCE_SHA256="$(sha256sum "build_proof/ci_blockers_20260228T184703Z/sha256sum.txt" | cut -d" " -f1)"; echo "$EVIDENCE_SHA256" > "build_proof/ci_blockers_20260228T184703Z/outputs/evidence_sha256.txt"
bash -lc ! grep -RIn --line-number -E 'RUN_ID|ci_blockers_RUN_ID' "build_proof/ci_blockers_20260228T184703Z" >/dev/null
bash -lc sed -i "s/RUN_ID/RUN_ID/g; s/ci_blockers_RUN_ID/ci_blockers_RUN_ID/g" "build_proof/ci_blockers_20260228T184703Z/commands.txt"
bash -lc p1="<""RUN_ID"">"; p2="ci_blockers_""<""RUN_ID"">"; ! grep -RIn --line-number -E "$p1|$p2" "build_proof/ci_blockers_20260228T184703Z" >/dev/null
bash -lc test ! -e outputs && test ! -e patches
bash -lc 
  cd "build_proof/ci_blockers_20260228T184703Z";
  find . -type f ! -name sha256sum.txt -print0 \
    | sort -z \
    | xargs -0 sha256sum > sha256sum.txt

bash -lc EVIDENCE_SHA256="$(sha256sum "build_proof/ci_blockers_20260228T184703Z/sha256sum.txt" | cut -d" " -f1)"; echo "$EVIDENCE_SHA256" > "build_proof/ci_blockers_20260228T184703Z/outputs/evidence_sha256.txt"
